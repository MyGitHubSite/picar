
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />

<link rel="stylesheet" type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" />

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.23/jquery-ui.min.js"></script>

<script type="text/javascript" src="http://cdn.robotwebtools.org/EventEmitter2/current/eventemitter2.min.js"></script>
<script type="text/javascript" src="http://cdn.robotwebtools.org/roslibjs/current/roslib.min.js"></script>

<!-- <script type="text/javascript" src="http://cdn.robotwebtools.org/keyboardteleopjs/current/keyboardteleop.min.js"></script> -->

<script type="text/javascript" src="http://devboard-picar-wifi.ittc.ku.edu:8080/keyboardteleop.js"></script> 

<script type="text/javascript">
  /**
   * Setup all GUI elements when the page is loaded.
   */
  function init() {
    // Connecting to ROS.
    var ros = new ROSLIB.Ros({
      url : 'ws://devboard-picar-wifi:9090'
    });

  ros.on('connection', function() {
  console.log('Connected to websocket server.');
  });

  ros.on('error', function(error) {
  console.log('Error connecting to websocket server: ', error);
  });

  ros.on('close', function() {
  console.log('Connection to websocket server closed.');
  });
  
    // Initialize the teleop.
    var teleop = new KEYBOARDTELEOP.Teleop({
      ros : ros,
      topic : '/cmd_vel'
    });
  }
</script>
</head>

<body onload="init()">
  <div id="speed-label"></div>
  <div id="speed-slider"></div>
<hr>
    <center>
      <img src="./?action=stream" />
    </center>
<hr>
  PiCar Web Control (Teleop) <p>

<pre>
W  E       U    I    O     
           J    K    L
X  C            <            
</pre>

<hr>
  I - forward <br>
  J - left <br>
  L - right <br>
  , - backward <br>
  K - stop <br>
  U - left turn <br>
  O - right turn <br>

  W - throttle speed up <br>
  X - throttle speed down <br>
  E - steering speed up <br>
  C - steering speed down <br>
</body>
</html>

